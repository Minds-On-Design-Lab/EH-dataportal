{{- define "main" -}}

<article class="container-fluid overflow-hidden" id="primary-content">
  
  <style>
    .selectedOption {
      font-weight: bold;
    }
  </style>

  <div class="row">
    <div class="col-md-10 mx-auto my-4">
      <nav aria-label="breadcrumb" class="mb-2">
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active"><a href="/neighborhood-reports/">{{ .Title }}</a></li>
        </ul>
      </nav>
  
      <h1 class="nr-accent mt-4 border-bottom"><i class="fas fa-map-marked-alt mr-1" aria-hidden="true"></i>{{ .Title }}</h1>
      <p>{{- .Content -}}</p>

      <div class="row">
        <div class="col-sm-5">
          <p class="home-label border-bottom font-weight-bold">Choose report:</p>
          <button class="btn btn-lg btn-block btn-outline-primary active" onclick="buttonChange('Asthma')" id="Asthma">Asthma</button>
          <button class="btn btn-lg btn-block btn-outline-primary" onclick="buttonChange('Active')" id="Active">Active design</button>
          <button class="btn btn-lg  btn-block btn-outline-primary" onclick="buttonChange('Climate')" id="Climate">Climate</button>
          <button class="btn btn-lg btn-block btn-outline-primary" onclick="buttonChange('Housing')" id="Housing">Housing</button>
          <button class="btn btn-lg btn-block btn-outline-primary" onclick="buttonChange('Outdoor')" id="Outdoor">Outdoor Air</button>
    
        </div>
    
        <div class="col-sm-7">
          <p class="home-label border-bottom font-weight-bold">Choose neighborhood</p>

          <div class="border" style="height:550px">
            {{- partial "nr-clickable-uhf" . -}}

          </div>
    
        </div>
    
      </div>

      
    </div>
  </div>




</article>

{{- end -}}

{{ define "js_bot" }}

  {{/*  {{- $js := resources.Get "js/accessible-autocomplete.min.js.map" -}}
  {{ $secureJS := $js | resources.Fingerprint "sha512" }}
  <script type="text/javascript" src="{{ $secureJS.RelPermalink }}" integrity="{{ $secureJS.Data.Integrity }}"></script>  */}}

  {{- $js := resources.Get "js/uhflist.js" -}}
  {{ $secureJS := $js | resources.Fingerprint "sha512" }}
  <script type="text/javascript" src="{{ $secureJS.RelPermalink }}" integrity="{{ $secureJS.Data.Integrity }}"></script>


<script type="text/javascript"> 

// establish report, and reportURL - change this with a toggle on the report buttons
var report; 
var reportURL = '/asthma_and_the_environment/' // this is used in nr-clickable-uhf

// button Change function. Pass first word into function from buttons
function buttonChange(x) {
  report = x
  window.location.hash = report + "report"; // changing hash - we'll use this later. 

  // this checks
  if (report=="Asthma") {
    reportURL = '/asthma_and_the_environment/'
  } else if (report=="Climate") {
    reportURL = '/climate_and_health/'
  } else if (report=="Housing") {
    reportURL = '/housing_and_health/'
  } else if (report=="Outdoor") {
    reportURL = '/outdoor_air_and_health/'
  } else if (report=="Active") {
    reportURL = '/active_design_physical_activity_and_health/'
  };

  // loop through buttons and set styles
  var buttons = document.querySelectorAll(".btn-outline-primary")
  for (let i = 0; i < buttons.length; i ++) {
    buttons[i].classList.remove("active")
  }
  document.getElementById(report).classList.add("active")

}

// run initial
buttonChange('Asthma')



  </script>

{{- end -}}
